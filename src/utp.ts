// Examples:
// {"type":"Action","version":2,"phase":"Begin","time":1763825010521,"processId":64780,"name":"buildPipelineEvt","description":"Build player"}
// {"type":"Action","version":2,"phase":"Begin","time":1763825010536,"processId":64780,"name":"buildPipelineEvt","description":"Preprocess Player"}
// {"type":"Action","version":2,"phase":"End","time":1763825010609,"processId":64780,"name":"buildPipelineEvt","description":"Preprocess Player","duration":72,"errors":[]}
// {"type":"Action","version":2,"phase":"Begin","time":1763825010613,"processId":64780,"name":"buildPipelineEvt","description":"Prepare For Build"}
// {"type":"Action","version":2,"phase":"End","time":1763825010618,"processId":64780,"name":"buildPipelineEvt","description":"Prepare For Build","duration":4,"errors":[]}
// {"type":"Action","version":2,"phase":"Begin","time":1763825010680,"processId":64780,"name":"buildPipelineEvt","description":"ProducePlayerScriptAssemblies"}
// {"type":"Action","version":2,"phase":"Begin","time":1763825011087,"processId":64780,"name":"buildPipelineEvt","description":"Prebuild Cleanup and Recompile"}
// {"type":"Action","version":2,"phase":"Begin","time":1763825011090,"processId":64780,"name":"buildPipelineEvt","description":"Compile scripts"}
// {"type":"Action","version":2,"phase":"End","time":1763825011255,"processId":64780,"name":"buildPipelineEvt","description":"Compile scripts","duration":165,"errors":[]}
// {"type":"Action","version":2,"phase":"Begin","time":1763825011255,"processId":64780,"name":"buildPipelineEvt","description":"Generate and validate platform script types"}
// {"type":"Action","version":2,"phase":"End","time":1763825011918,"processId":64780,"name":"buildPipelineEvt","description":"Generate and validate platform script types","duration":662,"errors":[]}
// {"type":"Action","version":2,"phase":"End","time":1763825011918,"processId":64780,"name":"buildPipelineEvt","description":"Prebuild Cleanup and Recompile","duration":830,"errors":[]}
// {"type":"Action","version":2,"phase":"End","time":1763825011918,"processId":64780,"name":"buildPipelineEvt","description":"ProducePlayerScriptAssemblies","duration":1237,"errors":[]}
// {"type":"Action","version":2,"phase":"Begin","time":1763825011918,"processId":64780,"name":"buildPipelineEvt","description":"Verify Build setup"}
// {"type":"Action","version":2,"phase":"End","time":1763825011923,"processId":64780,"name":"buildPipelineEvt","description":"Verify Build setup","duration":5,"errors":[]}
// {"type":"Action","version":2,"phase":"Begin","time":1763825011923,"processId":64780,"name":"buildPipelineEvt","description":"Prepare assets for target platform"}
// {"type":"Action","version":2,"phase":"End","time":1763825011962,"processId":64780,"name":"buildPipelineEvt","description":"Prepare assets for target platform","duration":38,"errors":[]}
// {"type":"Action","version":2,"phase":"Begin","time":1763825011974,"processId":64780,"name":"buildPipelineEvt","description":"Building scenes"}
// {"type":"Action","version":2,"phase":"Begin","time":1763825011974,"processId":64780,"name":"buildPipelineEvt","description":"Building scene Assets/empty.unity"}
// {"type":"Action","version":2,"phase":"End","time":1763825012015,"processId":64780,"name":"buildPipelineEvt","description":"Building scene Assets/empty.unity","duration":40,"errors":[]}
// {"type":"Action","version":2,"phase":"End","time":1763825012015,"processId":64780,"name":"buildPipelineEvt","description":"Building scenes","duration":40,"errors":[]}
// {"type":"Action","version":2,"phase":"Begin","time":1763825012015,"processId":64780,"name":"buildPipelineEvt","description":"Build scripts DLLs"}
// {"type":"Action","version":2,"phase":"Begin","time":1763825012132,"processId":64780,"name":"buildPipelineEvt","description":"GetReferencedAssemblies"}
// {"type":"Action","version":2,"phase":"End","time":1763825012134,"processId":64780,"name":"buildPipelineEvt","description":"GetReferencedAssemblies","duration":0,"errors":[]}
// {"type":"Action","version":2,"phase":"End","time":1763825012320,"processId":64780,"name":"buildPipelineEvt","description":"Build scripts DLLs","duration":306,"errors":[]}
// {"type":"Action","version":2,"phase":"Begin","time":1763825012341,"processId":64780,"name":"buildPipelineEvt","description":"Build GlobalGameManagers file"}
// {"type":"Action","version":2,"phase":"End","time":1763825012433,"processId":64780,"name":"buildPipelineEvt","description":"Build GlobalGameManagers file","duration":92,"errors":[]}
// {"type":"Action","version":2,"phase":"Begin","time":1763825012453,"processId":64780,"name":"buildPipelineEvt","description":"Writing asset files"}
// {"type":"Action","version":2,"phase":"Begin","time":1763825012453,"processId":64780,"name":"buildPipelineEvt","description":"Packaging assets - globalgamemanagers.assets"}
// {"type":"Action","version":2,"phase":"End","time":1763825012469,"processId":64780,"name":"buildPipelineEvt","description":"Packaging assets - globalgamemanagers.assets","duration":15,"errors":[]}
// {"type":"Action","version":2,"phase":"Begin","time":1763825012469,"processId":64780,"name":"buildPipelineEvt","description":"Packaging assets - sharedassets0.assets"}
// {"type":"Action","version":2,"phase":"End","time":1763825012488,"processId":64780,"name":"buildPipelineEvt","description":"Packaging assets - sharedassets0.assets = additional assets for scene 0: Assets/empty.unity","duration":19,"errors":[]}
// {"type":"Action","version":2,"phase":"End","time":1763825012495,"processId":64780,"name":"buildPipelineEvt","description":"Writing asset files","duration":42,"errors":[]}
// {"type":"Action","version":2,"phase":"Begin","time":1763825012495,"processId":64780,"name":"buildPipelineEvt","description":"Building Resources/unity_builtin_extra"}
// {"type":"Action","version":2,"phase":"End","time":1763825012592,"processId":64780,"name":"buildPipelineEvt","description":"Building Resources/unity_builtin_extra","duration":96,"errors":[]}
// {"type":"Action","version":2,"phase":"Begin","time":1763825012595,"processId":64780,"name":"buildPipelineEvt","description":"Write data build dirty tracking information"}
// {"type":"Action","version":2,"phase":"End","time":1763825012605,"processId":64780,"name":"buildPipelineEvt","description":"Write data build dirty tracking information","duration":10,"errors":[]}
// {"type":"Action","version":2,"phase":"Begin","time":1763825012608,"processId":64780,"name":"buildPipelineEvt","description":"Postprocess built player"}
// {"type":"Action","version":2,"phase":"Begin","time":1763825012646,"processId":64780,"name":"buildPipelineEvt","description":"Setup incremental player build"}
// {"type":"Action","version":2,"phase":"End","time":1763825012676,"processId":64780,"name":"buildPipelineEvt","description":"Setup incremental player build","duration":29,"errors":[]}
// {"type":"Action","version":2,"phase":"Begin","time":1763825012676,"processId":64780,"name":"buildPipelineEvt","description":"Incremental player build"}
// {"type":"Action","version":2,"phase":"End","time":1763825013218,"processId":64780,"name":"buildPipelineEvt","description":"Incremental player build","duration":541,"errors":[]}
// {"type":"Action","version":2,"phase":"Begin","time":1763825013219,"processId":64780,"name":"buildPipelineEvt","description":"Report output files"}
// {"type":"Action","version":2,"phase":"End","time":1763825013226,"processId":64780,"name":"buildPipelineEvt","description":"Report output files","duration":7,"errors":[]}
// {"type":"Action","version":2,"phase":"End","time":1763825013233,"processId":64780,"name":"buildPipelineEvt","description":"Postprocess built player","duration":625,"errors":[]}
// {"type":"Action","version":2,"phase":"End","time":1763825013243,"processId":64780,"name":"buildPipelineEvt","description":"Build player","duration":2722,"errors":[]}
// {"type":"MemoryLeaks","version":2,"phase":"Immediate","time":1763825013636,"processId":64780,"allocatedMemory":6976423,"memoryLabels":[{"Default":10343},{"Permanent":15296},{"NewDelete":114828},{"Thread":4229468},{"Manager":34806},{"VertexData":12},{"Geometry":560},{"Texture":168},{"Shader":67879},{"Material":24},{"GfxDevice":49648},{"Animation":248},{"Audio":3928},{"FontEngine":272},{"Physics":241},{"Serialization":936},{"Input":14720},{"JobScheduler":200},{"Mono":40},{"ScriptingNativeRuntime":43568},{"BaseObject":1627180},{"Resource":1464},{"Renderer":1960},{"Transform":16},{"File":9334},{"WebCam":80},{"Culling":40},{"Terrain":1025},{"Wind":24},{"STL":48},{"String":18294},{"DynamicArray":59323},{"HashMap":75782},{"Utility":15335},{"Curl":4287},{"PoolAlloc":32424},{"AI":104},{"TypeTree":2080},{"ScriptManager":440},{"RuntimeInitializeOnLoadManager":80},{"SpriteAtlas":128},{"GI":3808},{"Unet":16},{"Director":7848},{"WebRequest":688},{"VR":45969},{"SceneManager":608},{"Video":72},{"LazyScriptCache":40},{"NativeArray":12},{"Camera":25},{"Secure":1},{"SerializationCache":624},{"APIUpdating":5872},{"Subsystems":392},{"VirtualTexturing":57896},{"StaticSafetyDebugInfo":327760},{"EditorGui":80},{"EditorUtility":16463},{"VersionControl":4},{"Undo":426},{"AssetDatabase":10669},{"RestService":1414},{"EditorGi":368},{"License":3584},{"UnityConnect":28416},{"Collab":593},{"Upm":1664},{"DrivenProperties":96},{"HubClient":40},{"LocalIPC":276},{"ProfilerEditor":20133},{"CoreBusinessMetrics":3893},{"AssetReference":40}]}

export type UTP = UTPBase | UTPMemoryLeak;

export class UTPBase {
    type?: string;
    version?: number;
    phase?: Phase;
    time?: number;
    processId?: number;
    severity?: Severity;
    message?: string;
    stacktrace?: string;
    line?: number;
    file?: string;
    name?: string;
    description?: string;
    duration?: number;
    errors?: unknown[];
}

export class UTPMemoryLeak extends UTPBase {
    allocatedMemory?: number;
    memoryLabels?: Record<string, number> | Array<Record<string, number>>;
}

export enum Phase {
    Begin = 'Begin',
    End = 'End',
    Immediate = 'Immediate'
}

export enum Severity {
    Info = 'Info',
    Warning = 'Warning',
    Error = 'Error',
    Exception = 'Exception',
    Assert = 'Assert'
}